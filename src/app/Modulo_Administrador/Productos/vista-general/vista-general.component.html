<app-barra-ubicacion></app-barra-ubicacion>

<app-barra-busqueda
  [opcionesBusqueda]="opcionesBusqueda"
  [filtrosConfiguracion]="filtrosConfiguracion"
  [columnasDisponibles]="columnasDisponibles"
  (filtrosAplicados)="onFiltrosAplicados($event)"
  (actualizarColumnasEvent)="onColumnasActualizadas($event)">
</app-barra-busqueda>

<app-tabla-dinamica
  [columnasVisibles]="columnasSeleccionadas"
  [productosVisibles]="productosVisibles$ | async"
  (editarRegistro)="onEditarProducto($event)"
  (eliminarRegistro)="onEliminarProducto($event)">
</app-tabla-dinamica>

<!-- Formulario dinÃ¡mico modal -->
<app-formulario-dinamico
  *ngIf="formularioVisible"
  [titulo]="'Editar producto'"
  [datos]="productoSeleccionado"
  [bloques]="bloquesFormulario"
  [modoEdicion]="true"
  [botonesAccion]="[
    { texto: 'Guardar Cambios', tipo: 'submit', icono: 'fa fa-save' },
    { texto: 'Cancelar', tipo: 'button', icono: 'fa fa-times', accion: 'cancelar' }
  ]"
  (guardar)="onGuardarProducto($event)"
  (cerrar)="formularioVisible = false">
</app-formulario-dinamico>
