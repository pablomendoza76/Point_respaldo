<!-- Componente de barra de ubicación -->
<app-barra-ubicacion></app-barra-ubicacion>

<!-- Componente de barra de búsqueda con filtros y selección de columnas -->
<app-barra-busqueda
  [opcionesBusqueda]="opcionesBusqueda"
  [filtrosConfiguracion]="filtrosConfiguracion"
  [columnasDisponibles]="columnasDisponibles"
  (filtrosAplicados)="onFiltrosAplicados($event)"
  (actualizarColumnasEvent)="onColumnasActualizadas($event)"
  [habilitarExportar]="true"
  [habilitarImportar]="true"
  (agregar)="onAgregarNuevoProducto()">
</app-barra-busqueda>

<!-- Componente de tabla dinámica -->
<app-tabla-dinamica
  [productoEditar]="productoSeleccionado"
  [bloques]="bloquesFormulario"
  [paginaActual]="paginaActual"
  [itemsPorPagina]="itemsPorPagina"
  [opcionesPaginacion]="opcionesPaginacion"
  (editarRegistro)="onEditarProducto($event)"
  (cambioPagina)="onCambioPagina($event)"
  (eliminarRegistro)="onEliminarRegistro($event)"
  (cambioItemsPorPagina)="onCambioItemsPorPagina($event)">
</app-tabla-dinamica>

<!-- Formulario dinámico para creación o edición -->
<app-formulario-dinamico-loader
  [mostrar]="formularioVisible"
  [titulo]="modoEdicion ? 'Editar Producto' : 'Nuevo Producto'"
  [bloques]="bloquesFormulario"
  [datos]="productoSeleccionado"
  [modoEdicion]="modoEdicion"
  [botonesAccion]="[
    { texto: modoEdicion ? 'Guardar' : 'Crear', accion: 'guardar' },
    { texto: 'Cancelar', accion: 'cancelar' }
  ]"
  (guardar)="onGuardarProducto($event)"
  (cerrar)="onCerrarFormulario()"
  (accion)="onCerrarFormulario()">
</app-formulario-dinamico-loader>
